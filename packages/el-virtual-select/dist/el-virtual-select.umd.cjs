(function(c,f){(typeof exports>"u"?"undefined":_typeof2(exports))==="object"&&typeof module<"u"?module.exports=f():typeof define=="function"&&define.amd?define(f):(c=typeof globalThis<"u"?globalThis:c||self,c.elVirtualSelect=f())})(this,function(){"use strict";function _createForOfIteratorHelper(c,f){var h=typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(!h){if(Array.isArray(c)||(h=_unsupportedIterableToArray(c))||f&&c&&typeof c.length=="number"){h&&(c=h);var y=0,L=function(){};return{s:L,n:function(){return y>=c.length?{done:!0}:{done:!1,value:c[y++]}},e:function(V){throw V},f:L}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N=!0,A=!1,P;return{s:function(){h=h.call(c)},n:function(){var V=h.next();return N=V.done,V},e:function(V){A=!0,P=V},f:function(){try{!N&&h.return!=null&&h.return()}finally{if(A)throw P}}}}function _unsupportedIterableToArray(c,f){if(!!c){if(typeof c=="string")return _arrayLikeToArray(c,f);var h=Object.prototype.toString.call(c).slice(8,-1);if(h==="Object"&&c.constructor&&(h=c.constructor.name),h==="Map"||h==="Set")return Array.from(c);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return _arrayLikeToArray(c,f)}}function _arrayLikeToArray(c,f){(f==null||f>c.length)&&(f=c.length);for(var h=0,y=new Array(f);h<f;h++)y[h]=c[h];return y}function ownKeys(c,f){var h=Object.keys(c);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(c);f&&(y=y.filter(function(L){return Object.getOwnPropertyDescriptor(c,L).enumerable})),h.push.apply(h,y)}return h}function _objectSpread(c){for(var f=1;f<arguments.length;f++){var h=arguments[f]!=null?arguments[f]:{};f%2?ownKeys(Object(h),!0).forEach(function(y){_defineProperty(c,y,h[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(h)):ownKeys(Object(h)).forEach(function(y){Object.defineProperty(c,y,Object.getOwnPropertyDescriptor(h,y))})}return c}function _defineProperty(c,f,h){return f in c?Object.defineProperty(c,f,{value:h,enumerable:!0,configurable:!0,writable:!0}):c[f]=h,c}function _typeof2(c){return _typeof2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},_typeof2(c)}function c(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var r=t.indexOf("Trident/");if(r>0){var i=t.indexOf("rv:");return parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var n=t.indexOf("Edge/");return n>0?parseInt(t.substring(n+5,t.indexOf(".",n)),10):-1}var f=void 0;function h(){h.init||(h.init=!0,f=c()!==-1)}var y={render:function(){var e=this,r=e.$createElement,i=e._self._c||r;return i("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})},staticRenderFns:[],_scopeId:"data-v-b329ee4c",name:"resize-observer",methods:{compareAndNotify:function(){(this._w!==this.$el.offsetWidth||this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.$emit("notify"))},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!f&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),delete this._resizeObject.onload)}},mounted:function(){var e=this;h(),this.$nextTick(function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight});var r=document.createElement("object");this._resizeObject=r,r.setAttribute("aria-hidden","true"),r.setAttribute("tabindex",-1),r.onload=this.addResizeHandlers,r.type="text/html",f&&this.$el.appendChild(r),r.data="about:blank",f||this.$el.appendChild(r)},beforeDestroy:function(){this.removeResizeHandlers()}};function L(t){t.component("resize-observer",y),t.component("ResizeObserver",y)}var N={version:"0.4.5",install:L},A=null;typeof window<"u"?A=window.Vue:typeof global<"u"&&(A=global.Vue),A&&A.use(N);function P(t){return typeof Symbol=="function"&&_typeof2(Symbol.iterator)==="symbol"?P=function(r){return _typeof2(r)}:P=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":_typeof2(r)},P(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function pe(t,e,r){return e&&V(t.prototype,e),r&&V(t,r),t}function J(t){return me(t)||_e(t)||ye()}function me(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}function _e(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function ye(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function be(t){var e;return typeof t=="function"?e={callback:t}:e=t,e}function ge(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,n,l,o=function(s){for(var d=arguments.length,u=new Array(d>1?d-1:0),p=1;p<d;p++)u[p-1]=arguments[p];if(l=u,!(i&&s===n)){var z=r.leading;typeof z=="function"&&(z=z(s,n)),(!i||s!==n)&&z&&t.apply(void 0,[s].concat(J(l))),n=s,clearTimeout(i),i=setTimeout(function(){t.apply(void 0,[s].concat(J(l))),i=0},e)}};return o._clear=function(){clearTimeout(i),i=null},o}function Q(t,e){if(t===e)return!0;if(P(t)==="object"){for(var r in t)if(!Q(t[r],e[r]))return!1;return!0}return!1}var Se=function(){function t(e,r,i){R(this,t),this.el=e,this.observer=null,this.frozen=!1,this.createObserver(r,i)}return pe(t,[{key:"createObserver",value:function(r,i){var n=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=be(r),this.callback=function(a,s){n.options.callback(a,s),a&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle){var l=this.options.throttleOptions||{},o=l.leading;this.callback=ge(this.callback,this.options.throttle,{leading:function(s){return o==="both"||o==="visible"&&s||o==="hidden"&&!s}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(a){var s=a[0];if(a.length>1){var d=a.find(function(p){return p.isIntersecting});d&&(s=d)}if(n.callback){var u=s.isIntersecting&&s.intersectionRatio>=n.threshold;if(u===n.oldResult)return;n.oldResult=u,n.callback(u,s)}},this.options.intersection),i.context.$nextTick(function(){n.observer&&n.observer.observe(n.el)})}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&this.options.intersection.threshold||0}}]),t}();function Z(t,e,r){var i=e.value;if(!!i)if(typeof IntersectionObserver>"u")console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var n=new Se(t,i,r);t._vue_visibilityState=n}}function $e(t,e,r){var i=e.value,n=e.oldValue;if(!Q(i,n)){var l=t._vue_visibilityState;if(!i){ee(t);return}l?l.createObserver(i,r):Z(t,{value:i},r)}}function ee(t){var e=t._vue_visibilityState;e&&(e.destroyObserver(),delete t._vue_visibilityState)}var te={bind:Z,update:$e,unbind:ee};function ze(t){t.directive("observe-visibility",te)}var we={version:"0.4.6",install:ze},j=null;typeof window<"u"?j=window.Vue:typeof global<"u"&&(j=global.Vue),j&&j.use(we);var Te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.Scrollparent=r()})(Te,function(){var e=/(auto|scroll)/,r=function a(s,d){return s.parentNode===null?d:a(s.parentNode,d.concat([s]))},i=function(s,d){return getComputedStyle(s,null).getPropertyValue(d)},n=function(s){return i(s,"overflow")+i(s,"overflow-y")+i(s,"overflow-x")},l=function(s){return e.test(n(s))},o=function(s){if(s instanceof HTMLElement||s instanceof SVGElement){for(var d=r(s.parentNode,[]),u=0;u<d.length;u+=1)if(l(d[u]))return d[u];return document.scrollingElement||document.documentElement}};return o})})(ie);var re=ie.exports,ne={itemsLimit:1e3},se={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:function(e){return["vertical","horizontal"].includes(e)}},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"}};function le(){return this.items.length&&_typeof2(this.items[0])!=="object"}var H=!1;if(typeof window<"u"){H=!1;try{var Oe=Object.defineProperty({},"passive",{get:function(){H=!0}});window.addEventListener("test",null,Oe)}catch{}}var Ve=0,Ie={name:"RecycleScroller",components:{ResizeObserver:y},directives:{ObserveVisibility:te},props:_objectSpread(_objectSpread({},se),{},{itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:"div"},itemTag:{type:String,default:"div"},listClass:{type:[String,Object,Array],default:""},itemClass:{type:[String,Object,Array],default:""}}),data:function(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes:function(){if(this.itemSize===null){for(var e={"-1":{accumulator:0}},r=this.items,i=this.sizeField,n=this.minItemSize,l=1e4,o=0,a,s=0,d=r.length;s<d;s++)a=r[s][i]||n,a<l&&(l=a),o+=a,e[s]={accumulator:o,size:a};return this.$_computedMinItemSize=l,e}return[]},simpleArray:le},watch:{items:function(){this.updateVisibleItems(!0)},pageMode:function(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler:function(){this.updateVisibleItems(!1)},deep:!0},gridItems:function(){this.updateVisibleItems(!0)},itemSecondarySize:function(){this.updateVisibleItems(!0)}},created:function(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&!this.itemSize&&console.error("[vue-recycle-scroller] You must provide an itemSize when using gridItems")},mounted:function(){var e=this;this.applyPageMode(),this.$nextTick(function(){e.$_prerender=!1,e.updateVisibleItems(!0),e.ready=!0})},activated:function(){var e=this,r=this.$_lastUpdateScrollPosition;typeof r=="number"&&this.$nextTick(function(){e.scrollToPosition(r)})},beforeDestroy:function(){this.removeListeners()},methods:{addView:function(e,r,i,n,l){var o={item:i,position:0},a={id:Ve++,index:r,used:!0,key:n,type:l};return Object.defineProperty(o,"nr",{configurable:!1,value:a}),e.push(o),o},unuseView:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.$_unusedViews,n=e.nr.type,l=i.get(n);l||(l=[],i.set(n,l)),l.push(e),r||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize:function(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll:function(e){var r=this;this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame(function(){r.$_scrollDirty=!1;var i=r.updateVisibleItems(!1,!0),n=i.continuous;n||(clearTimeout(r.$_refreshTimout),r.$_refreshTimout=setTimeout(r.handleScroll,100))}))},handleVisibilityChange:function(e,r){var i=this;this.ready&&(e||r.boundingClientRect.width!==0||r.boundingClientRect.height!==0?(this.$emit("visible"),requestAnimationFrame(function(){i.updateVisibleItems(!1)})):this.$emit("hidden"))},updateVisibleItems:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.itemSize,n=this.gridItems||1,l=this.itemSecondarySize||i,o=this.$_computedMinItemSize,a=this.typeField,s=this.simpleArray?null:this.keyField,d=this.items,u=d.length,p=this.sizes,z=this.$_views,b=this.$_unusedViews,g=this.pool,m,_,E,T,O;if(!u)m=_=T=O=E=0;else if(this.$_prerender)m=T=0,_=O=Math.min(this.prerender,d.length),E=null;else{var S=this.getScroll();if(r){var M=S.start-this.$_lastUpdateScrollPosition;if(M<0&&(M=-M),i===null&&M<o||M<i)return{continuous:!0}}this.$_lastUpdateScrollPosition=S.start;var ue=this.buffer;S.start-=ue,S.end+=ue;var F=0;if(this.$refs.before&&(F=this.$refs.before.scrollHeight,S.start-=F),this.$refs.after){var it=this.$refs.after.scrollHeight;S.end+=it}if(i===null){var ce,de=0,fe=u-1,w=~~(u/2),he;do he=w,ce=p[w].accumulator,ce<S.start?de=w:w<u-1&&p[w+1].accumulator>S.start&&(fe=w),w=~~((de+fe)/2);while(w!==he);for(w<0&&(w=0),m=w,E=p[u-1].accumulator,_=w;_<u&&p[_].accumulator<S.end;_++);for(_===-1?_=d.length-1:(_++,_>u&&(_=u)),T=m;T<u&&F+p[T].accumulator<S.start;T++);for(O=T;O<u&&F+p[O].accumulator<S.end;O++);}else{m=~~(S.start/i*n);var rt=m%n;m-=rt,_=Math.ceil(S.end/i*n),T=Math.max(0,Math.floor((S.start-F)/i*n)),O=Math.floor((S.end-F)/i*n),m<0&&(m=0),_>u&&(_=u),T<0&&(T=0),O>u&&(O=u),E=Math.ceil(u/n)*i}}_-m>ne.itemsLimit&&this.itemsLimitError(),this.totalSize=E;var v,k=m<=this.$_endIndex&&_>=this.$_startIndex;if(this.$_continuous!==k){if(k){z.clear(),b.clear();for(var G=0,nt=g.length;G<nt;G++)v=g[G],this.unuseView(v)}this.$_continuous=k}else if(k)for(var Y=0,st=g.length;Y<st;Y++)v=g[Y],v.nr.used&&(e&&(v.nr.index=d.indexOf(v.item)),(v.nr.index===-1||v.nr.index<m||v.nr.index>=_)&&this.unuseView(v));for(var ve=k?null:new Map,I,x,C,U,$=m;$<_;$++){I=d[$];var D=s?I[s]:I;if(D==null)throw new Error("Key is ".concat(D," on item (keyField is '").concat(s,"')"));if(v=z.get(D),!i&&!p[$].size){v&&this.unuseView(v);continue}v?(v.nr.used=!0,v.item=I):($===d.length-1&&this.$emit("scroll-end"),$===0&&this.$emit("scroll-start"),x=I[a],C=b.get(x),k?C&&C.length?(v=C.pop(),v.item=I,v.nr.used=!0,v.nr.index=$,v.nr.key=D,v.nr.type=x):v=this.addView(g,$,I,D,x):(U=ve.get(x)||0,(!C||U>=C.length)&&(v=this.addView(g,$,I,D,x),this.unuseView(v,!0),C=b.get(x)),v=C[U],v.item=I,v.nr.used=!0,v.nr.index=$,v.nr.key=D,v.nr.type=x,ve.set(x,U+1),U++),z.set(D,v)),i===null?(v.position=p[$-1].accumulator,v.offset=0):(v.position=Math.floor($/n)*i,v.offset=$%n*l)}return this.$_startIndex=m,this.$_endIndex=_,this.emitUpdate&&this.$emit("update",m,_,T,O),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:k}},getListenerTarget:function(){var e=re(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll:function(){var e=this.$el,r=this.direction,i=r==="vertical",n;if(this.pageMode){var l=e.getBoundingClientRect(),o=i?l.height:l.width,a=-(i?l.top:l.left),s=i?window.innerHeight:window.innerWidth;a<0&&(s+=a,a=0),a+s>o&&(s=o-a),n={start:a,end:a+s}}else i?n={start:e.scrollTop,end:e.scrollTop+e.clientHeight}:n={start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return n},applyPageMode:function(){this.pageMode?this.addListeners():this.removeListeners()},addListeners:function(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,H?{passive:!0}:!1),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners:function(){!this.listenerTarget||(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem:function(e){var r;this.itemSize===null?r=e>0?this.sizes[e-1].accumulator:0:r=Math.floor(e/this.gridItems)*this.itemSize,this.scrollToPosition(r)},scrollToPosition:function(e){var r=this.direction==="vertical"?{scroll:"scrollTop",start:"top"}:{scroll:"scrollLeft",start:"left"},i,n,l;if(this.pageMode){var o=re(this.$el),a=o.tagName==="HTML"?0:o[r.scroll],s=o.getBoundingClientRect(),d=this.$el.getBoundingClientRect(),u=d[r.start]-s[r.start];i=o,n=r.scroll,l=e+a+u}else i=this.$el,n=r.scroll,l=e;i[n]=l},itemsLimitError:function(){var e=this;throw setTimeout(function(){console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",e.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")}),new Error("Rendered items limit reached")},sortViews:function(){this.pool.sort(function(e,r){return e.nr.index-r.nr.index})}}};function W(t,e,r,i,n,l,o,a,s,d){typeof o!="boolean"&&(s=a,a=o,o=!1);var u=typeof r=="function"?r.options:r;t&&t.render&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0,n&&(u.functional=!0)),i&&(u._scopeId=i);var p;if(l?(p=function(m){m=m||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!m&&typeof __VUE_SSR_CONTEXT__<"u"&&(m=__VUE_SSR_CONTEXT__),e&&e.call(this,s(m)),m&&m._registeredComponents&&m._registeredComponents.add(l)},u._ssrRegister=p):e&&(p=o?function(g){e.call(this,d(g,this.$root.$options.shadowRoot))}:function(g){e.call(this,a(g))}),p)if(u.functional){var z=u.render;u.render=function(m,_){return p.call(_),z(m,_)}}else{var b=u.beforeCreate;u.beforeCreate=b?[].concat(b,p):[p]}return r}var xe=Ie,ae=function(){var e,r,i=this,n=i.$createElement,l=i._self._c||n;return l("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:i.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:(e={ready:i.ready,"page-mode":i.pageMode},e["direction-"+i.direction]=!0,e),on:{"&scroll":function(a){return i.handleScroll.apply(null,arguments)}}},[i.$slots.before?l("div",{ref:"before",staticClass:"vue-recycle-scroller__slot"},[i._t("before")],2):i._e(),i._v(" "),l(i.listTag,{ref:"wrapper",tag:"component",staticClass:"vue-recycle-scroller__item-wrapper",class:i.listClass,style:(r={},r[i.direction==="vertical"?"minHeight":"minWidth"]=i.totalSize+"px",r)},[i._l(i.pool,function(o){return l(i.itemTag,i._g({key:o.nr.id,tag:"component",staticClass:"vue-recycle-scroller__item-view",class:[i.itemClass,{hover:!i.skipHover&&i.hoverKey===o.nr.key}],style:i.ready?{transform:"translate"+(i.direction==="vertical"?"Y":"X")+"("+o.position+"px) translate"+(i.direction==="vertical"?"X":"Y")+"("+o.offset+"px)",width:i.gridItems?(i.direction==="vertical"&&i.itemSecondarySize||i.itemSize)+"px":void 0,height:i.gridItems?(i.direction==="horizontal"&&i.itemSecondarySize||i.itemSize)+"px":void 0}:null},i.skipHover?{}:{mouseenter:function(){i.hoverKey=o.nr.key},mouseleave:function(){i.hoverKey=null}}),[i._t("default",null,{item:o.item,index:o.nr.index,active:o.nr.used})],2)}),i._v(" "),i._t("empty")],2),i._v(" "),i.$slots.after?l("div",{ref:"after",staticClass:"vue-recycle-scroller__slot"},[i._t("after")],2):i._e(),i._v(" "),l("ResizeObserver",{on:{notify:i.handleResize}})],1)},Re=[];ae._withStripped=!0;var Ce=void 0,De=void 0,Ae=void 0,Pe=!1,K=W({render:ae,staticRenderFns:Re},Ce,xe,De,Pe,Ae,!1,void 0,void 0,void 0),ke={name:"DynamicScroller",components:{RecycleScroller:K},provide:function(){return typeof ResizeObserver<"u"&&(this.$_resizeObserver=new ResizeObserver(function(e){requestAnimationFrame(function(){if(!!Array.isArray(e)){var r=_createForOfIteratorHelper(e),i;try{for(r.s();!(i=r.n()).done;){var n=i.value;if(n.target){var l=new CustomEvent("resize",{detail:{contentRect:n.contentRect}});n.target.dispatchEvent(l)}}}catch(o){r.e(o)}finally{r.f()}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:_objectSpread(_objectSpread({},se),{},{minItemSize:{type:[Number,String],required:!0}}),data:function(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:le,itemsWithSize:function(){for(var e=[],r=this.items,i=this.keyField,n=this.simpleArray,l=this.vscrollData.sizes,o=r.length,a=0;a<o;a++){var s=r[a],d=n?a:s[i],u=l[d];typeof u>"u"&&!this.$_undefinedMap[d]&&(u=0),e.push({item:s,id:d,size:u})}return e},listeners:function(){var e={};for(var r in this.$listeners)r!=="resize"&&r!=="visible"&&(e[r]=this.$listeners[r]);return e}},watch:{items:function(){this.forceUpdate(!1)},simpleArray:{handler:function(e){this.vscrollData.simpleArray=e},immediate:!0},direction:function(e){this.forceUpdate(!0)},itemsWithSize:function(e,r){for(var i=this.$el.scrollTop,n=0,l=0,o=Math.min(e.length,r.length),a=0;a<o&&!(n>=i);a++)n+=r[a].size||this.minItemSize,l+=e[a].size||this.minItemSize;var s=l-n;s!==0&&(this.$el.scrollTop+=s)}},beforeCreate:function(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated:function(){this.vscrollData.active=!0},deactivated:function(){this.vscrollData.active=!1},methods:{onScrollerResize:function(){var e=this.$refs.scroller;e&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible:function(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(e||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem:function(e){var r=this.$refs.scroller;r&&r.scrollToItem(e)},getItemSize:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,i=this.simpleArray?r!=null?r:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[i]||0},scrollToBottom:function(){var e=this;if(!this.$_scrollingToBottom){this.$_scrollingToBottom=!0;var r=this.$el;this.$nextTick(function(){r.scrollTop=r.scrollHeight+5e3;var i=function n(){r.scrollTop=r.scrollHeight+5e3,requestAnimationFrame(function(){r.scrollTop=r.scrollHeight+5e3,e.$_undefinedSizes===0?e.$_scrollingToBottom=!1:requestAnimationFrame(n)})};requestAnimationFrame(i)})}}}},Le=ke,oe=function(){var e=this,r=e.$createElement,i=e._self._c||r;return i("RecycleScroller",e._g(e._b({ref:"scroller",attrs:{items:e.itemsWithSize,"min-item-size":e.minItemSize,direction:e.direction,"key-field":"id","list-tag":e.listTag,"item-tag":e.itemTag},on:{resize:e.onScrollerResize,visible:e.onScrollerVisible},scopedSlots:e._u([{key:"default",fn:function(l){var o=l.item,a=l.index,s=l.active;return[e._t("default",null,null,{item:o.item,index:a,active:s,itemWithSize:o})]}}],null,!0)},"RecycleScroller",e.$attrs,!1),e.listeners),[e._v(" "),i("template",{slot:"before"},[e._t("before")],2),e._v(" "),i("template",{slot:"after"},[e._t("after")],2),e._v(" "),i("template",{slot:"empty"},[e._t("empty")],2)],2)},Fe=[];oe._withStripped=!0;var Ee=void 0,Me=void 0,Ue=void 0,Ne=!1,q=W({render:oe,staticRenderFns:Fe},Ee,Le,Me,Ne,Ue,!1,void 0,void 0,void 0),je={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id:function(){if(this.vscrollData.simpleArray)return this.index;if(this.item.hasOwnProperty(this.vscrollData.keyField))return this.item[this.vscrollData.keyField];throw new Error("keyField '".concat(this.vscrollData.keyField,"' not found in your item. You should set a valid keyField prop on your Scroller"))},size:function(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive:function(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id:function(){this.size||this.onDataUpdate()},finalActive:function(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created:function(){var e=this;if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){var r=function(l){e.$watch(function(){return e.sizeDependencies[l]},e.onDataUpdate)};for(var i in this.sizeDependencies)r(i);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted:function(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy:function(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize:function(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData:function(){var e=this;this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch("item",function(){e.onDataUpdate()},{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate:function(e){var r=e.force;!this.finalActive&&r&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||r||!this.size)&&this.updateSize()},onDataUpdate:function(){this.updateSize()},computeSize:function(e){var r=this;this.$nextTick(function(){if(r.id===e){var i=r.$el.offsetWidth,n=r.$el.offsetHeight;r.applySize(i,n)}r.$_pendingSizeUpdate=null})},applySize:function(e,r){var i=~~(this.vscrollParent.direction==="vertical"?r:e);i&&this.size!==i&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,i),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize:function(){!this.vscrollResizeObserver||!this.$el.parentNode||(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize:function(){!this.vscrollResizeObserver||(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize:function(e){var r=e.detail.contentRect,i=r.width,n=r.height;this.applySize(i,n)}},render:function(e){return e(this.tag,this.$slots.default)}},Be=je,He=void 0,We=void 0,Ke=void 0,qe=void 0,X=W({},He,Be,We,qe,Ke,!1,void 0,void 0,void 0);function Xe(t,e){t.component("".concat(e,"recycle-scroller"),K),t.component("".concat(e,"RecycleScroller"),K),t.component("".concat(e,"dynamic-scroller"),q),t.component("".concat(e,"DynamicScroller"),q),t.component("".concat(e,"dynamic-scroller-item"),X),t.component("".concat(e,"DynamicScrollerItem"),X)}var Ge={version:"1.1.2",install:function(e,r){var i=Object.assign({},{installComponents:!0,componentsPrefix:""},r);for(var n in i)typeof i[n]<"u"&&(ne[n]=i[n]);i.installComponents&&Xe(e,i.componentsPrefix)}},B=null;typeof window<"u"?B=window.Vue:typeof global<"u"&&(B=global.Vue),B&&B.use(Ge);var lt="",at="";function Ye(t,e,r,i,n,l,o,a){var s=typeof t=="function"?t.options:t;e&&(s.render=e,s.staticRenderFns=r,s._compiled=!0),i&&(s.functional=!0),l&&(s._scopeId="data-v-"+l);var d;if(o?(d=function(b){b=b||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!b&&typeof __VUE_SSR_CONTEXT__<"u"&&(b=__VUE_SSR_CONTEXT__),n&&n.call(this,b),b&&b._registeredComponents&&b._registeredComponents.add(o)},s._ssrRegister=d):n&&(d=a?function(){n.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:n),d)if(s.functional){s._injectStyles=d;var u=s.render;s.render=function(b,g){return d.call(g),u(b,g)}}else{var p=s.beforeCreate;s.beforeCreate=p?[].concat(p,d):[d]}return{exports:t,options:s}}var Je={name:"ElVirtualSelect",components:{DynamicScroller:q,DynamicScrollerItem:X},props:{options:{type:Array,default:function(){return[]}},value:[String,Number,Array],multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"},size:String,clearable:{type:Boolean,default:!0},collapseTags:{type:Boolean,default:!1},multipleLimit:{type:Number,default:0},placeholder:{type:String,default:"\u8BF7\u9009\u62E9"},filterable:{type:Boolean,default:!0},allowCreate:Boolean,remote:Boolean,remoteMethod:Function,loading:Boolean,loadingText:String,noMatchText:{type:String,default:"\u6682\u65E0\u5339\u914D\u6570\u636E"},noDataText:String,popperClass:String,reserveKeyword:Boolean,defaultFirstOption:Boolean,popperAppendToBody:{type:Boolean,default:!0},minItemSize:{type:Number,default:34},listClass:String,itemClass:String,listTag:String,itemTag:String,beautifyScrollerStyle:{type:Boolean,default:!1},dropdownItemsCount:{type:Number,default:6}},watch:{options:{handler:function(e){this.localList=e,this.rawList=e},deep:!0,immediate:!0}},data:function(){return{localValue:this.value,localList:[],rawList:[]}},methods:{handleScrollerVisible:function(){var e=this.getIndex()-(this.dropdownItemsCount-1);e>1&&this.$refs.recycleScrollerRef.scrollToItem(e)},getIndex:function(){var e=this;return this.multiple?this.localList.findIndex(function(r){return r[e.valueKey]===e.localValue[e.localValue.length-1]}):this.localList.findIndex(function(r){return r[e.valueKey]===e.localValue})},handleFilter:function(e){var r=this;this.localList=this.rawList.filter(function(i){return String(i[r.labelKey]).includes(e)})},handleSelectFocus:function(){this.localList.length<this.rawList.length&&(this.localList=this.rawList)},handleSelectChange:function(e){this.localValue=e,this.$emit("input",e)}}},Qe=function(){var e=this,r=e._self._c;return r("el-select",e._g(e._b({attrs:{multiple:e.multiple,disabled:e.disabled,size:e.size,clearable:e.clearable,collapseTags:e.collapseTags,multipleLimit:e.multipleLimit,placeholder:e.placeholder,filterable:e.filterable,allowCreate:e.allowCreate,remote:e.remote,remoteMethod:e.remoteMethod,loading:e.loading,loadingText:e.loadingText,noMatchText:e.noMatchText,noDataText:e.noDataText,popperClass:e.popperClass,reserveKeyword:e.reserveKeyword,defaultFirstOption:e.defaultFirstOption,popperAppendToBody:e.popperAppendToBody,"filter-method":e.handleFilter},on:{focus:e.handleSelectFocus,change:e.handleSelectChange},model:{value:e.localValue,callback:function(n){e.localValue=n},expression:"localValue"}},"el-select",e.$attrs,!1),e.$listeners),[r("DynamicScroller",{ref:"recycleScrollerRef",staticClass:"scroller",class:e.beautifyScrollerStyle?"beautify-scroller":"",attrs:{items:e.localList,"min-item-size":e.minItemSize,"key-field":e.valueKey,"list-class":e.listClass,"item-class":e.itemClass,"list-tag":e.listTag,"item-tag":e.itemTag},on:{visible:e.handleScrollerVisible},scopedSlots:e._u([{key:"default",fn:function(n){var l=n.item,o=n.index,a=n.active;return[r("DynamicScrollerItem",{attrs:{item:l,active:a,"data-index":o}},[r("el-option",{key:l[e.valueKey],attrs:{value:l[e.valueKey],label:l[e.labelKey],disabled:l.disabled}},[e._t("label",function(){return[e._v(e._s(l[e.labelKey]))]},{item:l})],2)],1)]}},e.localList.length===0?{key:"after",fn:function(){return[r("p",{staticClass:"empty-data"},[e._v(e._s(e.noMatchText))])]},proxy:!0}:null],null,!0)})],1)},Ze=[],et=Ye(Je,Qe,Ze,!1,null,"1aeeb08b",null,null),tt=et.exports;return tt});
